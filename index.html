<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mangrove Forest Kenya</title>
    <link rel="stylesheet" href="Style.css" />
    <script
      type="text/javascript"
      src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=XINvJ1CfwdYS-meXUSkOIQpQmQkRKlaPOiBv5e5CaxUotHqUVBp0JYkLToUgdQXt-NQ8FU219YP4lGv7VBjV6LUZY0Kd0bJMMC13uUqFwQzQKJxPBCJ51M0QA7bRLy4iM87-YROsd29_KlDQ8634WxRZtt2Xz5El9u5QTshpTmEzKzzc-YiuSUiqFrbhYVxgtuA2wvQgu5RD124iAXEQnfeKCf0il2Hb7Bp6EjXsp7CnwP3RO44VzSKnoQg-XWYNPBp_ZFTgSrrE6ZCniWgJ2g6IwlJExijkNFyw5OERWSCswHrVB5D8oPZwClKq-nSqZJO0XYlna4b_kUfiVJrnung0SuDW38rA2xnTiocm4vcbM-0mxAiJoe_dmv4FVK7JoPfteZip3mldhjMlXw_Sp8QVT-zWurzbhlsxJROdry5frGJuQ70t2GAOBe8ZVLVhdn3aAFtYUU2TGvaU1dE3DOBk3fbHvMAYc6sfpV6wGTh-QEMZAdUdLiE70XEgObzwEV7RUr_ae3AF1Mec5Xe6zFCUhm9vHjZapN5kTXPQ4xg8rNz4WpVeNb_tGuQepSh3f2VgIJylYZWXX3BHGY5yI3sI59Z2wcn36v-yJHNxPYRouMJ9fiCddcuAjyEfMxmYD8g67QMABDO4BM6dV9Xqf0fclkeB7TiMmlfvCQbw0u7RJllceJyLj3yjmVQp-xR_lHtMaGvdKbiP6uy7JdA2livAcROAJn7_PZw2hz7T_qoBgmpOFZF3sRypKlGOrgkX4U42cZO1xPfScjGuVft48-HyFF9XYuNbMz0WHdgKiAFuQ1ml16bpbUtpyfUypRLIT8PkFbZEYfU5L6TbkLRdkS9QbwirbiW0bF7tlLxHACGRx4CjzLu1UiG5gq36Flm8A-A7uh44gVCHmjrNci2FnFFfxqx0FYIzWuzHFC23NVUw4_jVgbo9XIf25hOjSRMToSuOrqy3udruC0BNqmm_knh2Fs73IN0u9959veJODS6_mM4ecXu3hswddGOivbcqbm5WOZMqbfKKjx_VKRILfK8s6NhZDtaaxdWiaM4ghXH5TQmpPeNvkhQiENrsUrw8_CoxrrhLlL82F5Zymh7FVL-uLVLTEpPWmvfMqSeuSpaW8_Rt5OzDy9qMtQGBwVHuBLw6_DG0lGJaESyxItM7VRPixe_nnIA0HMi4mVnZrQxFn6A9m6qWJ5wzRGodrHizyzmB96m5EBa0wVvx_qj0Xg"
      nonce="769cf4af4bf94eba6c452f4fa27090a9"
      charset="UTF-8"
    ></script>
    <script
      type="text/javascript"
      src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=7p025aiw9OmKfXF9E6oQeBr31hhbDQz6Szk9vrqinvLILBLcQJNUgBjI_-QeuOaJ-WPbGsNtIZTSP7CQS0tpEhvkw7l0MuvQr7rKzdZTjjoX5aW9uz-j6o_-n1QbqgPVtYke8y2ivWQn2TuPGDZIpLfa18nHbMdheAemQ9EC-EhTojSBEPrhT8X48n-elPCplV4FIjlgM3FaEI7p6N9gYbV6KNqZqlDbBFJ7blr1OHBVIu3zTRx1pwQKJ8XZ6F8i7o8ztGKu0fboCTT_31WUMOj6VXkt8BUB2YwTof9HdfW2MKYO-vL_eETqQDDUFDzD70AbWuSAlY0KPtOcRF9D5ztBN2Fg9Ad_AJqo_SQ3TqnHeObPgV7m6ifhEz5oSlzm-AL2s0gHTHjSZBb6kOC4vJY2mukACIYoEnBdxLx5zUlcvxk63sDm246RA6OF2P_Y7Tvh0qzBzTysANnMfjlE-50q_Vrq1dKAo6I_LsDup0OIQJSlcdobBc0VxyMgGrcohJAfkxSDwR_RxabIRcOIrCdd52RAhlFns9UlpPjvBjODE0YDMrWpWHg5jGics557t9oNVTudhFYEfd9xQCuLSKfEQ7okQcgZYol5AmxPWeXYBQNRnbLBbuv18gc-NBLmaOSm9cZOzv150CQN6wwEYzySJGAlGil462FW6g593YcODykkrBB0t9bWuewx_ft1YEf_BIImS8CqDKQfTZNlSCN0b6K4_WKJD_fU7qI9LffOTYl_2pWbiUzeGu0VV7M7pE5qFYHOPTmC9pG471tJ_8ZkPtpNPphgfruA7EXJl_rii2Pf8Z9MIZvX7jDQmThzztYpzq81aNcHhqesdn5S0CJuIP20jYxPr9LfpOhyq24aXeHeHV_IDdy-ctCrdQ-ZelXSvG_yMxAROIqbIBQXhCmh6Tx61lV_ERQ9GmqqTDZ9tWHnDzkfBlgEUdYtA0l_M0KgiDehiWbMdNgCvbkNn_56s49rg3DuCz6FrBO24hcb2IO7XOosOdAw83WdeUjp26sc6qfpCSlHBwZsf3KFyto4yVf_HWFmyxptpnyz88jgueViUFx_owx83ewsCi-iSNG1vOOF5bmcVk_Rl_-TzwTIWXCf7hQwz_vsI-2QZGYMlkbqAG3LUGH7VCRtMz1xBHswmuk9D9pBHTghyqb3NX08VAZVLH22ElT5DV1krx9Ehg3jNdc9ooyiyFw_-SBOOHfJT9goQ2JPRl2x4kqwFQ"
      nonce="e4ea24bce55cf81782f8f487ac06d48b"
      charset="UTF-8"
    ></script>
  

  </head>

  <head>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script><script src="JS/catiline.js"></script>
    <script src="JS/leaflet.shpfile.js"></script>

  </head>

  <body>
    <div class="header">
      <h1>Mangrove Forest 2010-2020, Kenya</h1>
    </div>

    <div class="container">
      <div class="left-col">
        <h2>Content</h2>
        <p>
          This is the awgis project, mangrove mapping in Kenya.
        </p>
      </div>

      <div class="right-col">
        <h2>Right</h2>

        <div id="map"></div>



        <script>

 

          let mymap = L.map("map").setView([-2.308652, 40.594233], 9);

          //the access token and api link are derived from mapbox styles-open to edit-share-third part-carto
         //let accessToken = `pk.eyJ1IjoidGlmZmllLWFuZ2VsIiwiYSI6ImNrdXpkMnYxMzFjYTEyd3JmY242dnRoYXIifQ.tQzRdh68GCNO1gK7fwIHTw`;

          let accessToken = `pk.eyJ1IjoidGlmZmllLWFuZ2VsIiwiYSI6ImNrdXpkMnYxMzFjYTEyd3JmY242dnRoYXIifQ.tQzRdh68GCNO1gK7fwIHTw`;

          //L.tileLayer(
            //`https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}`,
            //{
              //basemap above is satelitte

          L.tileLayer(
            `https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}`,
            {
              attribution:
                'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
              maxZoom: 18,
              id: "mapbox/satellite-v9",
              tileSize: 512,
              zoomOffset: -1,
              accessToken: accessToken,
            }


          ).addTo(mymap);

          //2000 shp (code from leaflet shapefile plugin. Linlked to catiline.js, leaflet.shpfile,js & shp.js)
          var shpfile1 = new L.Shapefile('Data/2000a.zip', {
			onEachFeature: function(feature, layer) {
				if (feature.properties) {
					layer.bindPopup(Object.keys(feature.properties).map(function(k) {
						return k + ": " + feature.properties[k];
					}).join("<br />"), {
						maxHeight: 200
					});
				}
			}
		});
		shpfile1.addTo(mymap);
		shpfile1.once("data:loaded", function() {
			console.log("finished loaded shapefile");
		});

   
       // 2010 shp
      var shpfile2 = new L.Shapefile('Data/2010a.zip', {
        onEachFeature: function(feature, layer) {
          if (feature.properties) {
            layer.bindPopup(Object.keys(feature.properties).map(function(k) {
              return k + ": " + feature.properties[k];
            }).join("<br />"), {
              maxHeight: 200
            });
          }
        }
      });
      shpfile2.addTo(mymap);
      shpfile2.once("data:loaded", function() {
        console.log("finished loaded shapefile");
      });

      // 2020 shp
      var shpfile3 = new L.Shapefile('Data/2020.zip', {
			onEachFeature: function(feature, layer) {
				if (feature.properties) {
					layer.bindPopup(Object.keys(feature.properties).map(function(k) {
						return k + ": " + feature.properties[k];
					}).join("<br />"), {
						maxHeight: 200
					});
				}
			}
		});
		shpfile3.addTo(mymap);
		shpfile3.once("data:loaded", function() {
			console.log("finished loaded shapefile");
		});


// layer controls
let baseLayers = {
    "Satelite": mymap,
};

let overlays = {
    "2000": shpfile1,
    "2010": shpfile2,
    "2020": shpfile3
};

L.control.layers(baseLayers, overlays).addTo(mymap);




        </script>
      </div>
    </div>
    <div class="footer">&copy; GeoInfinity</div>
  </body>
</html>
